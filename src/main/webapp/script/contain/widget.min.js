!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){var n=function(e){if(!e.el){var t=document.currentScript;if(!t){var r=document.getElementsByTagName("script");t=r[r.length-1]}var o=t.parentNode;e.el=t.el||o}var i,a;return t.remove?t.remove():(a=(i=t).parentNode)&&a.removeChild(i),n.Component.createByType(e)};!function(e,t,n){"use strict";var r={},o={},i={};!function(e){var t="Array Object String Date RegExp Function Boolean Number Null Undefined".split(" ");function r(){return n.prototype.toString.call(this).slice(8,-1)}for(var o=t.length;o--;)e["is"+t[o]]=function(e){return function(t){return r.call(t)===e}}(t[o])}(t),t.copy=function(e,n){if(null===e||"object"!=typeof e)return e;var r,o,i=t.isArray(e)?[]:{};for(r in e)(o=e[r])!==e&&(n&&(t.isArray(o)||t.isObject(o))?i[r]=copy(o,n):i[r]=o);return i},t.extend=function(e,r,o){if(t.isFunction(r))e.prototype=n.create(r.prototype),e=e.prototype;else{var i=t.copy(r,!0);for(var a in i)e[a]=r[a]}if(o){var u=t.copy(o,!0);for(var a in u)e[a]=u[a]}return e},t.get=function(e){return e instanceof HTMLElement?i[e]:o[e]};var a=function(e){};a.createByType=function(e){var t,n=[];e.lazy&&n.push("lazy"),e.reload&&n.push("reload");for(var o=0;o<n.length;o++){if(r[n[o]]){var i=new r[n[o]];i.create(e,t),t=i}}return t},t.extend(a,n,{create:function(e,n){n&&t.extend(this,n);var r=e.id||e.el.getAttribute("id");e.id&&(e.el=document.getElementById(e.id)),this.el=e.el,r&&(o[r]=this),i[this.el]=this}}),a.register=function(e,n){r[e]=n,t[n.name]=n},t.Component=a,e.Melody=t;var u=function(){};t.extend(t,{ajax:function(t){if((t=t||{}).data=t.data||{},"CONTAIN"==t.type){var n=t.headers||{};n._melody="melos",t.headers=n}var r=t.jsonp?jsonp(t):r(t);function r(t){t.type=(t.type||"GET").toUpperCase(),t.data=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push("v="+Math.floor(1e4*Math.random()+500)),t.join("&")}(t.data);var n=null;if((n=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObjcet("Microsoft.XMLHTTP")).onreadystatechange=function(){if(4==n.readyState){var e=n.status;if(e>=200&&e<300){var r="",o=n.getResponseHeader("Content-type");r=-1!==o.indexOf("xml")&&n.responseXML?n.responseXML:"application/json"===o?JSON.parse(n.responseText):n.responseText,t.success&&t.success(r)}else t.error&&t.error(e)}},"GET"==t.type){for(var r in n.open(t.type,t.url+"?"+t.data,!0),t.headers)n.setRequestHeader(r,t.headers[r]);n.send(null)}else{for(var r in n.open(t.type,t.url,!0),t.headers)n.setRequestHeader(r,t.headers[r]);n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.send(t.data)}}}}),t.extend(u,t.Component,{create:function(e){t.Component.prototype.create.apply(this,arguments),this.url=e.url},refresh:function(e){var n=this,r=this.el;t.ajax({url:this.url,type:"CONTAIN",data:{},success:function(t){if(r.innerHTML=t,-1!=t.indexOf("<\/script>"))for(var o=r.getElementsByTagName("script"),i=0;i<o.length;i++){var a=document.createElement("SCRIPT");a.innerHTML=o[i].innerHTML,a.el=o[i].parentNode,document.getElementsByTagName("HEAD").item(0).append(a)}e&&e.call(n,t)},error:function(e){}})}}),t.Component.register("reload",u);var c=function(){},s=function(){for(var e=0;e<c.comps.length;e++){var t=c.comps[e];if(!t.loaded&&t.visible()){t.load(s);break}}};e.addEventListener("load",s),e.addEventListener("scroll",s),c.comps=[],t.extend(c,u,{create:function(e){u.prototype.create.apply(this,arguments),this.url=e.url,c.comps.push(this)},visible:function(){var t=this.el.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(e.innerHeight||document.documentElement.clientHeight)&&t.right<=(e.innerWidth||document.documentElement.clientWidth)},load:function(e){this.refresh(e),this.loaded=!0}}),t.Component.register("lazy",c)}(window,n,Object)}]);